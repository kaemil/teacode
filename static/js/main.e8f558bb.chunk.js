(this.webpackJsonpteacode=this.webpackJsonpteacode||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(7),a=c.n(n),s=c(1),r=c(11),i=c(10),o=c(2),u=c(8),l=Object(s.createContext)({}),j=function(e){var t=e.users,c=Object(s.useState)(1),n=Object(o.a)(c,2),a=n[0],r=n[1];return{handlePageDown:function(){a>1&&r((function(e){return e-1}))},handlePageUp:function(){a<Math.round(t.length/20)&&r((function(e){return e+1}))},sliceDataPerPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=(t-1)*c;return null===e||void 0===e?void 0:e.slice(n,n+c)},page:a}},d=c(6),h=c.n(d),b=c(9),O=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(o.a)(a,2),i=r[0],u=r[1],l=function(){var e=Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,fetch("https://teacode-recruitment-challenge.s3.eu-central-1.amazonaws.com/users.json");case 4:return t=e.sent,e.next=7,t.json();case 7:(c=e.sent)&&n(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error:",e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){l()}),[]),{users:c,isLoading:i}},f=c(0),v=function(e){var t=e.page,c=e.handlePageDown,n=e.handlePageUp;return Object(f.jsxs)("div",{className:"contact--pagination",children:[Object(f.jsx)("button",{className:"contact--pagination-page-switch",onClick:c,children:"<"}),Object(f.jsx)("div",{className:"contact--pagination-page",children:t}),Object(f.jsx)("button",{className:"contact--pagination-page-switch",onClick:n,children:">"})]})},x=function(e){var t=e.searchValue,c=e.setSearchValue;return Object(f.jsxs)("div",{className:"contact--search-input",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){c(e.target.value.toLowerCase())}}),Object(f.jsx)("button",{onClick:function(){return c("")},children:"Clear"})]})},p=function(e){var t=e.user,c=Object(s.useContext)(l),n=c.handleSelectedUsers,a=c.selectedUsersIds,r=t.avatar,i=t.id,o=t.first_name,u=t.last_name,j=Object(f.jsx)("img",{src:r,alt:"no_photo"}),d="".concat(o.charAt(0)," ").concat(u.charAt(0)),h=r?j:d;return Object(f.jsxs)("div",{className:"contact--list-item",onClick:function(){return n(i)},children:[Object(f.jsx)("div",{className:"contact--avatar",children:h}),Object(f.jsx)("div",{className:"contact--full-name",children:"".concat(o," ").concat(u)}),Object(f.jsx)("div",{className:"contact--checkbox",children:Object(f.jsx)("input",{type:"checkbox",checked:a.includes(i),id:i})})]})},g=function(e){var t=e.usersList,c=void 0===t?[]:t;return Object(f.jsx)("div",{className:"contact--users-list",children:c.map((function(e){return Object(f.jsx)(p,{user:e},e.id)}))})},m=function(){return Object(f.jsx)("div",{className:"contact--loader",children:Object(f.jsx)("span",{children:"Loading..."})})},N=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),d=Object(o.a)(a,2),h=d[0],b=d[1],p=O(),N=p.users,w=p.isLoading,C=j({users:N}),k=C.page,S=C.sliceDataPerPage,L=N.filter((function(e){var t=e.first_name,c=e.last_name,n="".concat(t.toLowerCase()," ").concat(c.toLowerCase());return!h||n.includes(h)})),P=S(Object(u.sortBy)(L,"last_name"),k);return Object(f.jsx)(l.Provider,{value:{handleSelectedUsers:function(e){n((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(i.a)(t),[e])}))},selectedUsersIds:c},children:Object(f.jsxs)("div",{className:"contact--container",children:[Object(f.jsx)("div",{className:"contact--header",children:Object(f.jsx)("h2",{children:"List of Contacts"})}),Object(f.jsx)(x,{searchValue:h,setSearchValue:b}),w?Object(f.jsx)(m,{}):Object(f.jsx)(g,{usersList:P}),Object(f.jsx)(v,Object(r.a)({},C)),Object(f.jsx)("div",{className:"contact--send",children:Object(f.jsx)("button",{onClick:function(){c.length&&window.alert(JSON.stringify(c))},children:"Send"})})]})})};c(20);a.a.render(Object(f.jsx)(N,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e8f558bb.chunk.js.map